<div class="options-bar">
    <div class="title-container">
        <h2>Listagem de Simulações</h2>
    </div>
    <!-- <div class="button-container">
        <a href="#">Mais antigas primeiro</a>
        <a href="#">Mais recentes primeiro</a>
    </div> -->
</div>

<div *ngIf="simulations.length > 0;">
    <div *ngFor="let simulation of simulations" class="card-container">
        <div class="card-header">
        </div>
        <h2>{{simulation.created | date: 'medium'}}</h2>
    
        <div class="info">

            <app-info-item
                    [label] ="'Tipo de Abertura:'"
                    [value] ="simulation.context.aperture.type"
                ></app-info-item>

                <app-info-item
                    [label] ="'Tipo de Fonte:'"
                    [value] ="simulation.context.source.type"
                ></app-info-item>

                <app-info-item
                    [label] ="'Quantidade de emissões:'"
                    [value] ="simulation?.emissions | number"
                ></app-info-item>

                <app-info-item
                    [label] ="'Status:'"
                    [value] ="simulation.status"
                ></app-info-item>
        </div>
    
        <div class="card-footer">
            <div class="button information" >
                <a (click)="openReport(simulation.id)">
                    <img src="/assets/info-white.svg">
                    <p>Visualizar Relatório</p>
                </a>
            </div>
            <div *ngIf="simulation.status === 'CREATED'">
                <!-- <div class="button confirm">
                    <a (click)="startSimulation(simulation.id)" [class.loading]="isLoading[simulation.id]" [disabled]="isLoading[simulation.id]">
                        <img *ngIf="!isLoading[simulation.id]" src="/assets/play-icon.svg">
                        <p>{{ isLoading[simulation.id] ? 'Iniciando...' : 'Iniciar Simulação' }}</p>
                    </a>
                </div> -->

                <div class="button confirm">
                    <a (click)="!isLoading[simulation.id] && startSimulation(simulation.id)"
                       [class.loading]="isLoading[simulation.id]"
                       [class.disabled]="isLoading[simulation.id]">
                      <img *ngIf="!isLoading[simulation.id]" src="/assets/play-icon.svg">
                      <p>{{ isLoading[simulation.id] ? 'Iniciando...' : 'Iniciar Simulação' }}</p>
                    </a>
                  </div>
            </div>
        </div>
    </div>
</div>

<div>

</div>
<!-- <app-simulacao-detail-modal 
  [selectedSimulation]="selectedSimulation"
  [isOpen]="isModalOpen"
  (closeModal)="closeModal()">
</app-simulacao-detail-modal> -->